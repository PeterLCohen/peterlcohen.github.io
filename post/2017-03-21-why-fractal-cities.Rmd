---
title: "Why Fractal Cities?"
author: "Phil"
excerpt: "Population and urban infrastructure are consistently organized as fractals. Why is that? We survey two properties of fractals -- incremental growth and optimal transport -- and show how these two considerations naturally lead to fractal structure in human organization."
tags: [fractals, cities, theory]
css: "green.css"
date: 2017-03-21
---

```{r setup, include=FALSE}
philhelm::blog_opts()
```

{{% alert note %}}
**Intellectual property note:** None of the images posted  in these notes are my own. All are freely available for viewing without payment online, and I have linked to their sources. 
{{% /alert %}}


# Introduction: Math Flies the Coop

Advanced mathematics is quite cool,<sup>[citation needed]</sup> but relatively few advanced concepts have cultural currency outside the ivory tower. There are exceptions: 

- Differential geometry, which is the language of Einstein's theory of general relativity ("The universe is curved.")
- Functional analysis, which underlies most mathematical formulations of quantum mechanics. ("Until you observe it, the cat is both alive and dead.")
- Statistics, which is the underlying mathematical theory of machine learning and artificial intelligence ("How can we separate the signal from the noise?")

The concept we'll discuss today is another concept of advanced mathematics that has successfully flown the coop: **fractal geometry**. Most people have seen a picture of a fractal: when visualized, they are extraordinarily beautiful and somewhat mystical in appearance: 

<figure>
  <img src = "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Mandel_zoom_07_satellite.jpg/1200px-Mandel_zoom_07_satellite.jpg">
  <figcaption>The Mandelbrot set, a famous fractal first visualized by Benoit Mandelbrot in 1980. Image CC BY-SA 3.0 [Wikimedia Commons](https://commons.wikimedia.org/w/index.php?curid=322028)</figcaption>
</figure>

As we're going to see, fractals actually play a quite fundamental role in the structure of modern urban life. It's therefore extremely convenient that fractals have rich mathematical theory around them -- in fact, they are one of the (relatively few) places where we understand how to use rigorous mathematics to analyze complex, multiscale phenomena. The reason we can do this is actually the same reason that fractals are so important: **self-similarity.** In words, if you imagine looking at a fractal through a magnifiying glass, it will look roughly the same -- no matter how strong your magnifying glass is. That is, fractals display *structural regularity* on *multiple scales*. The magic of fractals is that these two ingredients combine to produce such extraordinary complexity. Schematically, 

$$\text{simple structure} + \text{multiple scales} = \text{complex structure}\;.$$

# Fractals in Nature

We're ultimately going to see that **fractals structure cities**, and survey a few reasons why. Before we do, let's take a quick tour through fractals in nature. They appear in multiple places in the natural world, such as the growth patterns of certain organisms; the circulatory systems of plants and animals; and even geologic formations: 


<div class=three>
  <figure class=three>
  <img src="http://themagichappensnow.com/wp-content/uploads/2015/08/tumblr_m2uqhqe5Ie1qbc06wo1_500.jpg" alt = "deez figs"> 
  </figure>
  <figure class=three>
  <img src=" http://themagichappensnow.com/wp-content/uploads/2015/08/fractal_10.jpg" alt = "deez figs">
  </figure>
  <figure class=three>
  <img src="http://themagichappensnow.com/wp-content/uploads/2015/08/tsayta.jpg" alt = "deez figs"> 
  </figure>
</div>

 <figcaption>Computer model of the vascular system of the human lungs; close-up of Romanesco broccoli; aerial view of a river valley. All images retrieved from blog post [The Fractal Life](http://themagichappensnow.com/the-fractal-life/) by Henning Winter.</figcaption>


Of course, natural fractals don't have the same mathematical precision of the Mandelbrot set: the pattern doesn't extend to infinitely small scales, and the pattern isn't perfectly self-replicating: there's some unstructured variation in the system as well. It's clear, however, that there are a few fundamental *organizing principles* that structure these systems. To take romanesco broccoli, for example, the spirals have approximately the same shape, follow clear angular symmetry, and each nest hierarchically within spirals at one higher "level." 

# Fractals in Cities

Intriguingly and importantly, **cities also have fractal structure.**[^2] Consider, for example, the following maps of the London transportation network and spatial employment patterns, as measured by Michael Batty in his article "The Size, Scale, and Shape of Cities:"[^3]


<figure>
  <img src="https://www.researchgate.net/profile/Michael_Batty2/publication/5593135/figure/fig1/AS:280900416884736@1443983286222/Fig-2-Fractal-cities-A-Population-morphology-of-London-B-The-road-network-in.png">
  <figcaption>(A): Population density of London. (B): London transportation network. (C-D): Two idealized geometric cities.  Reproduced from 'The Size, Scale, and Shape of Cities' (Batty, 2013), [freely available at ResearchGate](https://www.researchgate.net/publication/5593135_The_Size_Scale_and_Shape_of_Cities).</figcaption>
</figure>

These structures each display the characteristic self-similarity of fractals. In the case of the transportation network, low-volume transportation modes (small roads) are densely nested within higher-volume modes, such as highways and light rail. In the case of employment densities, we can observe small "blobs" of (town centers) that closely resemble the structural properties of the main "blob" of the urban core. It's quite intriguing and suggestive to compare the road network above to the lung's vascular system above. 

It's possible to measure the fractal structure of different structures in cities. This is typically done by computing **[fractal dimension](https://en.wikipedia.org/wiki/Fractal_dimension)** of that structure. You may be familiar with 1-dimensional objects (lines and curves), two-dimensional objects (surfaces), and three-dimensional objects ("solids"). Fractals occupy an interesting in-between zone; indeed, one reason for their name is precisely that they have **fract**ional dimension that reflects how much more detail is revealed when you look at the structure more closely. 

- Population distributions tend to have fractal dimension in the range $1.5 \pm 0.3$.[^4] That is, human settlement doesn't completely fill 2-dimensional space, but it's not purely linear either. 
- Road networks in the US tend to have fractal dimension in the range $1.25 \pm 0.25$. This makes sense if you figure that road networks would be lower-dimensional than population distributions, but not much lower dimensional (since the road network supports settlement).[^5]
- The U.S. power grid has been measured to have fractal dimension approximately $2.3$. The complex web of interconnections, combined with the fact that grid wires are allowed to cross, enables greater complexity than either settlement or road patterns.[^6] 

# Why are Cities Fractal?

## Fractals are Dynamic

One reason cities display fractal structure is that they are characteristic examples of dynamic, constrained expansion. Cities are *dynamic* because they tend to grow over time. Their growth is *constrained* because there are usually infrastructural or administrative constraints on how much space they can fill. Dynamic, constrained growth is a common setting for the emergence of fractals. One model of network growth due to Song, Havlin, and Makse (2006)[^7] develops a model of the growth of complex networks in which a small collection of "hub" nodes (urban centers) send out "branches" in their vicinity at each time-step. Unfortunately, I wasn't able to locate any images that I can reproduce here, but you can view an example graph generated via this process [here](http://www.nature.com/nphys/journal/v2/n4/images/nphys266-f3.jpg).

The authors show that the process they define leads to hubs that grow in proportion to their connectivity to peripheral nodes, but not other hubs. It's not too surprising that this process leads to fractal structures, since we've essentially assumed a fractal generating process. But this model isn't trivial -- in the context of cities, it has two important properties. 

1. **Heuristic plausibility**: The idea of hubs "branching out" into new, smaller developments is a basically noncrazy description of urban development -- imagine a small town center sprouting in the suburbs of a major city, and housing developments sprouting around that center. 
2. **Network robustness**: The authors show that their model networks have strong *robustness to targeted attacks.* Roughly, fractal networks are much less likely to shut down when highly-connected nodes are disabled. The authors point out that this robustness property may be quite favorable in the evolution of complex systems. A prey animal with fractal vascular architecture may survive an attack by a predator that would otherwise be disabling. In the urban context, a city with fractal road infrastructure will experience fewer traffic jams when there are accidents at major intersections. 

The point about the robustness of fractal network architectures raises an intriguing new perspective: fractal architecture isn't just common -- it's beneficial, compared to alternative architectures. Let's explore that point a bit more. 

## Fractals are Efficient

So far, we've been emphasizing the organic character of the growth of cities. This is important, but it's equally important to remember that cities don't just happen -- they are planned. This planning is itself incremental, and it's rare that planners have the opportunity to structure a city from the ground up. Nevertheless, the planned character of cities encourages us to consider "engineering" questions. How efficient are cities? How do they respond to their constraints?

To talk about efficiency, we need to ask a fundamental teleological question: what are cities for? Here I'll discuss the view of Luis Bettencourt in "The origins of scaling in cities"[^8]: cities are for increasing the rate of value-producing social interactions, under infrastructural and mobility constraints. This view is fairly abstract: by "value-producing social interactions" we include everything from gainful employment to inspirational chats in coffee shops. Roughly, cities will be successful when residents can interact with each other frequently, but this requires that residents be in spatial proximity -- and that requires travel, which is costly. If travel times are large, residents will interact less and productivity will decrease.[^9] 

If cities are for mixing, how should they be arranged in order to efficiently promote mixing? Fractally! More precisely, let's consider the following problem: we have $n$ homes arranged in a circle. Our aim is to lay roads between them in such a way as to minimize average travel times between them. However, roads are costly, so we can't just lay down as much as we want. What scheme should we use? 

Under some reasonable regularity assumptions, it's possible to show that the optimal answer takes fractal form. The mathematical theory of these and similar problems is known as *optimal transport*, which is studied by mathematicians like [Qinglan Xia](https://www.math.ucdavis.edu/~qlxia/summary/transport.html). 


<div class=three>
  <figure class=two>
  <img src="https://www.math.ucdavis.edu/~qlxia/summary/circle85.png" alt = "deez figs" > 
  </figure>
  <figure class=two>
  <img src="https://www.math.ucdavis.edu/~qlxia/summary/uniform85.png" alt = "deez figs">
  </figure>  
</div>

<figcaption>Optimal transport on circular and rectangular lattices. The parameter $\alpha$ controls the costliness of links. Images by [Qinglan Xia](https://www.math.ucdavis.edu/~qlxia/) at the University of California, Davis.</figcaption>

The intuition behind the efficiency of fractals is fairly easy to grasp. Recall that the fundamental property of fractals is self-similarity -- they reproduce the same structure on multiple spatial scales. With that in mind, let's imagine solving an optimal transport problem in the circular figure above. Starting in the middle of the circular figure above, we place a link and decide how many nodes (people) will be served by that particular chunk of road. Now we face the problem of choosing to lay more road for that restricted set of people. This is, in structure, very much like the problem we started with, and has a similar solution. At each stage of laying road, we face a sub-problem similar to the one we started with, with similar solution structure. This is an illustration of *recursive problem solving*, a foundational concept of computer science. In this case, the recursive structure implies that we see (approximately) similar structures at all spatial scales. The similarity isn't perfect, since the problems to solve at different scales aren't *exactly* the same -- for example, the angle expressing the "spread" of people to serve has changed. Regardless, the result is approximate self-similarity at multiple scales -- fractal structure. Similar principles apply to other infrastructure layouts such as water and power distribution systems, both of which need to reach all residents in an efficient way. In summary, **fractals are efficient**: they arise naturally when we need to connect people when such connections have costs in time or resources. 

Remember the natural fractals, like the human vascular system? Another way to think about this structure is as a solution to an optimal transport problem: the body needs to pump blood efficiently in such a way that transports necessary oxygen to the ensemble of human cells. It's not surprising that evolution would select for organisms whose structure could do this efficiently, with minimal energy expended in the construction and maintenance of vascular infrastructure. Thus, the efficiency of fractals gives us tantalizing insight into why they should appear in so many biological systems. 

# Summing Up

Fractals are found throughout nature, and play a fundamental role in the structure of living things that grow incrementally in response to internal and external constraints. Cities are a certain kind of complex "organism," and fractals pop up again and again, both in empirical observation and in models of urban growth. Fractal structure plays an important role in the functioning of cities: it reflects the incremental, constrained structure of their growth; their need for resilience against random failures; and the value produced by efficiently connecting their residents. 

[^1]: Citation needed. 
[^2]: See *Fractal Cities* by Michael Batty and Paul Longley for MUCH more detail on this point. 
[^3]: Shen, G. (2002). Fractal dimension and fractal growth of urbanized areas. International Journal of Geographical Information Science, 16(5), 419–437. http://doi.org/10.1080/13658810210137013
[^4]: Batty, M. (2008). The size, scale, and shape of cities. Science, 319(5864), 769–771. http://doi.org/10.1126/science.1151419
[^5]: Lu, Y., & Tang, J. (2004). Fractal dimension of a transportation network and its relationship with urban growth: a study of the Dallas-Fort Worth area. Environment and Planning B: Planning and Design, 31(6), 895-911.
[^6]: Long, G., & Xu, C. (2009). The Fractal Dimensions of Complex Networks. Chinese Physics Letters, 26(8), 8–11.
[^7]: Song, C., Havlin, S., & Makse, H. a. (2006). Origins of fractality in the growth of complex networks_nature. Nature Physics, 2(April), 275–281. http://doi.org/10.1038/nphys266
[^8]: Bettencourt, L. M. A. (2013). The origins of scaling in cities. Science, 340(6139), 1438–41. http://doi.org/10.1126/science.1235823
[^9]: It's reasonable to object that interactions in and of themselves don't drive productivity. On the other hand, the predictions of Bettencourt's theory agree quite well with observed scaling behavior in cities.  
